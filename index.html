<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Visa Checker</title>
</head>
<body>
  <h2>Visa Verification Form</h2>
  <form id="visaForm">
    <input type="text" id="name" placeholder="Name" required><br>
    <input type="text" id="lastName" placeholder="Last Name" required><br>
    <input type="date" id="dob" placeholder="Date of Birth" required><br>
    <input type="text" id="visaType" placeholder="Visa Type" required><br>
    <input type="date" id="visaDate" placeholder="Visa Issue Date" required><br>
    <button type="submit">Check Visa</button>
  </form>
  <p id="result"></p>

  <script>
    const form = document.getElementById("visaForm");
    const result = document.getElementById("result");
    const googleAppsScriptURL = "YOUR_WEB_APP_URL"; // جایگزین کن

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const params = new URLSearchParams({
        name: document.getElementById("name").value.trim(),
        lastName: document.getElementById("lastName").value.trim(),
        dob: document.getElementById("dob").value,
        visaType: document.getElementById("visaType").value.trim(),
        visaDate: document.getElementById("visaDate").value
      });

      fetch(googleAppsScriptURL + "?" + params.toString())
        .then(res => res.text())
        .then(response => {
          if (response === "match") {
            result.innerText = "تطابق موفق!";
            window.location.href = "https://your-secure-site.com"; // لینک مقصد
          } else {
            result.innerText = "اطلاعات تطابق ندارد.";
          }
        })
        .catch(err => {
          result.innerText = "خطا در ارتباط با سرور.";
        });
    });
  </script>
</body>
</html>
